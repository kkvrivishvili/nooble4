# ====================================================================
# COMMON SETTINGS (base_settings.py)
# ====================================================================
# Service Identification
SERVICE_NAME=agent_service  # Will be overridden by each service
SERVICE_VERSION=1.0.0
ENVIRONMENT=development
LOG_LEVEL=INFO
ENABLE_TELEMETRY=false

# ==================== INFRASTRUCTURE ====================

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=redis123
REDIS_PORT=6379
REDIS_DECODE_RESPONSES=true
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_SOCKET_KEEPALIVE=true
REDIS_MAX_CONNECTIONS=10
REDIS_HEALTH_CHECK_INTERVAL=30

# PostgreSQL Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=nooble
POSTGRES_PORT=5432
POSTGRES_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:${POSTGRES_PORT}/${POSTGRES_DB}

# Qdrant Configuration
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=

# ==================== SERVICE PORTS ====================
# These ports are used by docker-compose to map container ports to host
QUERY_SERVICE_PORT=8000
AGENT_ORCHESTRATOR_PORT=8001
INGESTION_SERVICE_PORT=8002
USER_MANAGEMENT_PORT=8003
CONVERSATION_SERVICE_PORT=8004
AGENT_EXECUTION_PORT=8005
EMBEDDING_SERVICE_PORT=8006

# ==================== SERVICE URLS ====================
# These URLs are used for inter-service communication
QUERY_SERVICE_URL=http://query_service:8000
AGENT_ORCHESTRATOR_URL=http://agent_orchestrator_service:8001
INGESTION_SERVICE_URL=http://ingestion_service:8002
USER_MANAGEMENT_URL=http://user_management_service:8003
CONVERSATION_SERVICE_URL=http://conversation_service:8004
AGENT_EXECUTION_URL=http://agent_execution_service:8005
EMBEDDING_SERVICE_URL=http://embedding_service:8006

# ==================== API KEYS ====================
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
GROQ_API_KEY=

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8000

# ====================================================================
# AGENT ORCHESTRATOR SERVICE (AOS_*)
# ====================================================================
AOS_SERVICE_NAME=agent_orchestrator_service
AOS_DOMAIN_NAME=orchestrator
AOS_WEBSOCKET_PING_INTERVAL=30
AOS_WEBSOCKET_PING_TIMEOUT=10
AOS_MAX_WEBSOCKET_CONNECTIONS=1000
AOS_CALLBACK_QUEUE_PREFIX=orchestrator
AOS_MAX_REQUESTS_PER_SESSION=100

# ====================================================================
# AGENT EXECUTION SERVICE (AGENT_EXECUTION_*)
# ====================================================================
AGENT_EXECUTION_SERVICE_NAME=agent_execution_service
AGENT_EXECUTION_DOMAIN_NAME=execution
AGENT_EXECUTION_CALLBACK_QUEUE_PREFIX=orchestrator
AGENT_EXECUTION_USER_CONFIG_CACHE_TTL=600
AGENT_EXECUTION_WORKER_COUNT=5
AGENT_EXECUTION_WORKER_SLEEP_SECONDS=1.0
AGENT_EXECUTION_QUERY_TIMEOUT_SECONDS=60

# ====================================================================
# QUERY SERVICE (QUERY_*)
# ====================================================================
QUERY_SERVICE_NAME=query_service
QUERY_DOMAIN_NAME=query
QUERY_EMBEDDING_SERVICE_TIMEOUT=30
QUERY_WORKER_COUNT=5
QUERY_WORKER_SLEEP_SECONDS=1.0

# ====================================================================
# INGESTION SERVICE (INGESTION_*)
# ====================================================================
INGESTION_SERVICE_NAME=ingestion_service
INGESTION_REDIS_QUEUE_PREFIX=ingestion
INGESTION_DOCUMENT_PROCESSING_QUEUE_NAME=document:processing
INGESTION_CHUNKING_QUEUE_NAME=document:chunking

# ====================================================================
# CONVERSATION SERVICE (CONVERSATION_*)
# ====================================================================
CONVERSATION_SERVICE_NAME=conversation_service
CONVERSATION_DOMAIN_NAME=conversation
CONVERSATION_ACTIVE_TTL=1800
CONVERSATION_WEBSOCKET_GRACE_PERIOD=30

# ====================================================================
# EMBEDDING SERVICE (EMBEDDING_*)
# ====================================================================
EMBEDDING_SERVICE_NAME=embedding_service
EMBEDDING_DOMAIN_NAME=embedding
EMBEDDING_WORKER_COUNT=5
EMBEDDING_CALLBACK_QUEUE_PREFIX=embedding
EMBEDDING_WORKER_SLEEP_SECONDS=0.1
EMBEDDING_OPENAI_TIMEOUT_SECONDS=30
EMBEDDING_OPENAI_MAX_RETRIES=3
